!function(){function e(e,a,t,i,n,o,c,l,r){var d=this,s={pageSelectCallBack:function(e,a){d.initData.pageNum=e+1,d.initFunctions.showIotObjectListData()}};d.initTools={searchDeviceData:function(){d.initData.deviceData={deviceTableInfo:[{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:3,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:2,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:3,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:0,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:0,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:0,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:0,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:3,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:1,handwareCode:"176C4BFF-F3AD--488E ACBCAF"},{deviceName:"空压机001",factoryNumber:"KD-0001",deviceType:"JPE-13PM",belongUnit:"中建电子商务有限公司",alarmLevel:1,handwareCode:"176C4BFF-F3AD--488E ACBCAF"}],totalNum:96},d.initData.totalNum=d.initData.deviceData.totalNum,$("#Pagination").pagination(d.initData.totalNum,{items_per_page:d.initData.pageSize,num_edge_entries:1,num_display_entries:3,current_page:d.initData.nowPage,prev_text:"<",next_text:">",callback:d.initData.pageSelectCallBack})},add:function(){o.go("manager.deviceOpt",{type:"ins"})}},d.initData={totalNum:0,pageSize:"10",pageNum:1,pageTypes:[5,10,20],queryDeviceAction:{},companyCode:"",iotStationId:"",companyListData:[],iotStationListData:[]},d.initFunctions={initFunc:function(){d.initFunctions.showIotObjectListData(),l.getCompanyListData().then(function(e){var a=e.data;a&&(d.initData.companyListData=a)});var e={clientCompanyCode:"",status:""};l.getIotStationListData(e).then(function(e){var a=e.data;a&&(a.forEach(function(e,a,t){e.detailJson&&(e.detailJson=JSON.parse(e.detailJson))}),d.initData.iotStationListData=a)})},changeDeviceState:function(e){"I"==e.target.tagName?$(e.target).parent().addClass("category_selected").siblings().removeClass("category_selected"):"LI"==e.target.tagName&&$(e.target).addClass("category_selected").siblings().removeClass("category_selected"),d.initData.queryDeviceAction.deviceType=$(e.target).data("devicestate")},changeAlarmLevel:function(e){"I"==e.target.tagName?$(e.target).parent().removeClass("level_border_none").siblings().addClass("level_border_none"):"LI"==e.target.tagName&&$(e.target).removeClass("level_border_none").siblings().addClass("level_border_none"),d.initData.queryDeviceAction.alarmLevel=$(e.target).data("alarmlevel")},showIotObjectListData:function(){console.log(22,d.initData.iotStationId);var e={iotStationId:d.initData.iotStationId,pageNo:d.initData.pageNum,pageSize:d.initData.pageSize};l.getIotObjectListData(e).then(function(e){var a=e.data.list;a&&a.forEach(function(e,a,t){e.detailJson&&(e.detailJson=JSON.parse(e.detailJson))}),d.initData.deviceData=a,d.initData.totalNum=e.data.count,d.initData.pageNo=e.data.pageNo,$("#Pagination").pagination(d.initData.totalNum,{items_per_page:d.initData.pageSize,num_edge_entries:1,num_display_entries:3,current_page:d.initData.pageNo-1,prev_text:"<",next_text:">",callback:s.pageSelectCallBack})})},companyListChange:function(){console.log(11,d.initData.companyCode);var e={clientCompanyCode:d.initData.companyCode,status:""};l.getIotStationListData(e).then(function(e){var a=e.data;a&&(a.forEach(function(e,a,t){e.detailJson&&(e.detailJson=JSON.parse(e.detailJson))}),d.initData.iotStationListData=a)})},gotoDetails:function(e){o.go("manager.deviceList.details",{id:d.initData.deviceData[e].id})}},d.initFunctions.initFunc()}angular.module("app.managerModule.deviceList.listShow").controller("ListShow",e),e.$inject=["$scope","layer","API","session","MD5","$state","TEMPLATEDATA","JEEAPI","$stateParams"]}();