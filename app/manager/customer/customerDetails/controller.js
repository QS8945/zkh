!function(){function t(t,e,a,n,o,i,r,s,C){var D=this,T={};D.initTools={uploadIcon:function(e){var a=e.files[0],n=new FileReader;n.onload=function(){t.$apply(function(){D.initTools.previewImg=n.result})},a&&n.readAsDataURL(a)},uploadClick:function(){$("#iconFile").click()},saveForm:function(){if(t.customerOpt.$invalid)return a.msg("请填写正确的信息")},getCircleData:function(){Highcharts.chart("circle",{chart:{backgroundColor:"rgb(24,32,51)",type:"variablepie"},title:{text:"设备类型占比",style:{color:"rgb(92,164,255)"}},tooltip:{headerFormat:"",pointFormat:'<span style="color:{point.color}">●</span> <b> {point.name}</b><br/>数量: <b>{point.y}</b><br/>每个区域数量: <b>{point.z}</b><br/>'},series:[{minPointSize:10,innerSize:"20%",zMin:0,name:"countries",data:[{name:"设备1",y:505370,z:92.9},{name:"设备2",y:551500,z:118.7},{name:"设备3",y:312685,z:124.6},{name:"设备4",y:78867,z:137.5},{name:"设备5",y:301340,z:201.8},{name:"设备6",y:41277,z:214.5},{name:"设备7",y:357022,z:235.6}]}],credits:{enabled:!1},exporting:{enabled:!1}})},getGraphData:function(){Highcharts.chart("graph",{chart:{backgroundColor:"rgb(24,32,51)",type:"spline"},title:{text:"设备增长曲线",style:{color:"rgb(92,164,255)"}},xAxis:{type:"datetime",title:{text:null}},colors:["#6CF","#39F","#06C","#036","#000"],yAxis:{title:{text:"积雪 厚度 (m)"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.2f} m"},plotOptions:{spline:{marker:{enabled:!0}}},series:[{name:"2007-2008 冬",data:[[Date.UTC(1970,9,27),0],[Date.UTC(1970,10,10),.6],[Date.UTC(1970,10,18),.7],[Date.UTC(1970,11,2),.8],[Date.UTC(1970,11,9),.6],[Date.UTC(1970,11,16),.6],[Date.UTC(1970,11,28),.67],[Date.UTC(1971,0,1),.81],[Date.UTC(1971,0,8),.78],[Date.UTC(1971,0,12),.98],[Date.UTC(1971,0,27),1.84],[Date.UTC(1971,1,10),1.8],[Date.UTC(1971,1,18),1.8],[Date.UTC(1971,1,24),1.92],[Date.UTC(1971,2,4),2.49],[Date.UTC(1971,2,11),2.79],[Date.UTC(1971,2,15),2.73],[Date.UTC(1971,2,25),2.61],[Date.UTC(1971,3,2),2.76],[Date.UTC(1971,3,6),2.82],[Date.UTC(1971,3,13),2.8],[Date.UTC(1971,4,3),2.1],[Date.UTC(1971,4,26),1.1],[Date.UTC(1971,5,9),.25],[Date.UTC(1971,5,12),0]]},{name:"2008-2009 冬",data:[[Date.UTC(1970,9,18),0],[Date.UTC(1970,9,26),.2],[Date.UTC(1970,11,1),.47],[Date.UTC(1970,11,11),.55],[Date.UTC(1970,11,25),1.38],[Date.UTC(1971,0,8),1.38],[Date.UTC(1971,0,15),1.38],[Date.UTC(1971,1,1),1.38],[Date.UTC(1971,1,8),1.48],[Date.UTC(1971,1,21),1.5],[Date.UTC(1971,2,12),1.89],[Date.UTC(1971,2,25),2],[Date.UTC(1971,3,4),1.94],[Date.UTC(1971,3,9),1.91],[Date.UTC(1971,3,13),1.75],[Date.UTC(1971,3,19),1.6],[Date.UTC(1971,4,25),.6],[Date.UTC(1971,4,31),.35],[Date.UTC(1971,5,7),0]]},{name:"2009-2010 冬",data:[[Date.UTC(1970,9,9),0],[Date.UTC(1970,9,14),.15],[Date.UTC(1970,10,28),.35],[Date.UTC(1970,11,12),.46],[Date.UTC(1971,0,1),.59],[Date.UTC(1971,0,24),.58],[Date.UTC(1971,1,1),.62],[Date.UTC(1971,1,7),.65],[Date.UTC(1971,1,23),.77],[Date.UTC(1971,2,8),.77],[Date.UTC(1971,2,14),.79],[Date.UTC(1971,2,24),.86],[Date.UTC(1971,3,4),.8],[Date.UTC(1971,3,18),.94],[Date.UTC(1971,3,24),.9],[Date.UTC(1971,4,16),.39],[Date.UTC(1971,4,21),0]]}],credits:{enabled:!1},exporting:{enabled:!1}})},add:function(){r.go("manager.customer.add",{id:T.id,type:"ins"})},getIotStationListData:function(){C.getIotStationListData({clientCompanyCode:T.id,status:""}).then(function(t){D.initTools.listData=t.data,D.initTools.listData.forEach(function(t){t.detailJson=JSON.parse(t.detailJson)})})},compressorList:function(t){r.go("manager.customer.compressorList",{id:t})}},e.id&&(T.id=e.id,C.getCompanyForm({companyCode:T.id}).then(function(t){t.data.company.extend.extendS1=JSON.parse(t.data.company.extend.extendS1),t.data.company.extend.extendS1.responsiblePersonList&&(t.data.company.extend.extendS1.responsiblePersonList=JSON.parse(t.data.company.extend.extendS1.responsiblePersonList)),D.initTools.item=t.data.company})),D.initTools.getIotStationListData()}angular.module("app.managerModule.customer.details").controller("CustomerDetailsController",t),t.$inject=["$scope","$stateParams","layer","API","session","MD5","$state","TEMPLATEDATA","JEEAPI"]}();