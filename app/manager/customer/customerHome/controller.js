!function(){function e(e,t,a,o,n,s,i,r){var c=this,l={totalNum:"",pageNo:1,pageSelectCallBack:function(e,t){l.pageNo=e+1,c.initTools.searchUsers()}};c.initTools={pageSizeStatic:"10",pageTypes:[5,10,20],status:0,statuses:[{id:0,name:"启用"},{id:2,name:"禁用"}],keyup:function(e){13==(window.event?e.keyCode:e.which)&&c.initTools.searchUsers()},searchUsers:function(){var e={status:c.initTools.status,companyName:c.initTools.companyName,pageSize:c.initTools.pageSizeStatic,pageNo:l.pageNo};r.getCompanyPageListDataAll(e).then(function(e){var t=e.data.list;t.forEach(function(e,t,a){e.extend.extendS1&&(e.extend.extendS1=JSON.parse(e.extend.extendS1),e.extend.extendS1.responsiblePersonList&&(e.extend.extendS1.responsiblePersonList=JSON.parse(e.extend.extendS1.responsiblePersonList)))}),c.initTools.customersData=t,c.initTools.totalNum=e.data.count,c.initTools.pageSize=e.data.pageSize.toString(),c.initTools.pageNo=e.data.pageNo,$("#Pagination").pagination(e.data.count,{items_per_page:e.data.pageSize,num_edge_entries:1,num_display_entries:3,current_page:c.initTools.pageNo-1,prev_text:"＜",next_text:"＞",callback:l.pageSelectCallBack})})},add:function(){s.go("manager.customer.opt",{type:"ins"})},checkItem:function(e){s.go("manager.customer.details",{id:c.initTools.customersData[e].id})},edit:function(e){s.go("manager.customer.opt",{id:c.initTools.customersData[e].id,type:"upd"})},disable:function(e){var t={companyCode:c.initTools.customersData[e].companyCode};"2"==c.initTools.customersData[e].status?r.getCompanyEnable(t).then(function(e){"true"===e.data.result&&c.initTools.searchUsers()}):"0"==c.initTools.customersData[e].status&&r.getCompanyDisable(t).then(function(e){"true"===e.data.result&&c.initTools.searchUsers()})}},c.initTools.searchUsers()}angular.module("app.managerModule.customer.home").controller("CustomerHomeController",e),e.$inject=["$scope","layer","API","session","MD5","$state","TEMPLATEDATA","JEEAPI"]}();