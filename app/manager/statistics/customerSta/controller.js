!function(){function e(e,t,a,n,o,r,i,l,s){var c=this,m={group:"",non_group:"",area_destribute:"",customerIncrease:"",colorArr:["#FB743A","#2ACE8C","#CEBF2E","#429BFF","#0FE400"]};c.initData={allCompanyNumber:{unit:0,decade:0,hundreds:0,kilo:0,riabit:0,hundreds_thousand:0},companyPercent:0,compareLastMonthPercent:0,nonCompanyPercent:0,trend:"up"},c.initFunctions={initFunc:function(){m.group=Highcharts.chart("group",{chart:{height:200,spacing:[0,0,0,0],backgroundColor:"rgb(24,32,51)"},title:{floating:!0,text:"集团",style:{color:"#fff",fontSize:15}},tooltip:{pointFormat:"{series.name}:{point.percentage:.1f}%"},colors:["rgb(26,117,232)","rgb(222,222,222)"],plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",borderWidth:0,dataLabels:{enabled:!1}}},series:[{type:"pie",innerSize:"70%",name:"",data:[{name:"集团",y:25},{name:"非集团",y:15}]}],credits:{enabled:!1},exporting:{enabled:!1}},function(e){var t=e.series[0].center[1],a=parseInt(e.title.styles.fontSize);e.setTitle({y:t+a/2})}),m.non_group=Highcharts.chart("non_group",{chart:{height:200,spacing:[0,0,0,0],backgroundColor:"rgb(24,32,51)"},title:{floating:!0,text:"非集团",style:{color:"#fff",fontSize:15}},tooltip:{pointFormat:"{series.name}:{point.percentage:.1f}%"},colors:["rgb(254,195,7)","rgb(222,222,222)"],plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",borderWidth:0,dataLabels:{enabled:!1}}},series:[{type:"pie",innerSize:"70%",name:"",data:[{name:"集团",y:15},{name:"非集团",y:25}]}],credits:{enabled:!1},exporting:{enabled:!1}},function(e){var t=e.series[0].center[1],a=parseInt(e.title.styles.fontSize);e.setTitle({y:t+a/2})}),m.area_destribute=Highcharts.chart("area_destribute_top5",{chart:{height:260,spacing:[0,0,0,0],margin:[20,40,0,-70],backgroundColor:"rgb(24,32,51)"},credits:{enabled:!1},title:{text:""},tooltip:{pointFormat:"{series.name}: <b>{point.y}</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},exporting:{enabled:!1},legend:{enabled:!0,align:"right",layout:"vertical",verticalAlign:"top",squareSymbol:!1,borderRadius:0,x:-10,y:20,itemMarginBottom:10,itemStyle:{color:"{point.color}"},itemHoverStyle:{color:"#ffffff"},symbolWidth:16,symbolHeight:7,labelFormatter:function(){return'<span style="color: '+this.color+';line-height:18px">'+this.name+"</span>"}},series:[{type:"pie",name:"地区分布",data:[{name:"山东",y:24,color:"#FB743A",legendIndex:1},{name:"浙江",y:16,color:"#2ACE8C"},{name:"江苏",y:24,color:"#CEBF2E"},{name:"上海",y:25,color:"#429BFF"},{name:"四川",y:11,color:"#0FE400"}]}]}),m.customerIncrease=Highcharts.chart("customer_increase",{chart:{type:"column",height:220,marginTop:40,marginBottom:30,backgroundColor:"#192033"},colors:["#6176AF"],credits:{enabled:!1},title:{text:""},xAxis:{lineColor:"#1956A6",lineWidth:2,labels:{style:{color:"#A5A7AC",fontSize:10}},tickWidth:1,tickLength:8,tickPosition:"inside",tickColor:"#1956A6",type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"}},yAxis:{min:0,title:{text:"(分数)",rotation:0,y:-120,x:40,style:{color:"#ffffff"}},lineColor:"#1956A6",lineWidth:2,gridLineColor:"#1C2539",stackLabels:{enabled:!0,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}},labels:{style:{color:"#A5A7AC",fontSize:10}},tickPixelInterval:10},legend:{align:"center",x:-30,verticalAlign:"top",y:-10,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"white",borderColor:"#CCC",borderWidth:1,shadow:!1,borderWidth:0,squareSymbol:!1,symbolWidth:30,symbolHeight:12,symbolRadius:0,backgroundColor:"#192033",itemStyle:{color:"#A5A7AC",fontSize:10},itemWidth:160},exporting:{enabled:!1},tooltip:{formatter:function(){return"<b>增长率 </b><br/>"+this.point.name+": "+this.y+"<br/>"}},plotOptions:{column:{dataLabels:{enabled:!1,color:Highcharts.theme&&Highcharts.theme.dataLabelsColor||"white",style:{textOutline:"1px 1px black"}},borderWidth:0,pointPadding:0,showInLegend:!1}},series:[{data:[{name:"1月份",y:10},{name:"2月份",y:10},{name:"3月份",y:10},{name:"4月份",y:10},{name:"5月份",y:10},{name:"6月份",y:10},{name:"7月份",y:10},{name:"8月份",y:10},{name:"9月份",y:10},{name:"10月份",y:10},{name:"11月份",y:10}]}]})},getCustomerSta:function(){l.getCustomerSta().then(function(e){var t=e.data;console.log(t),c.initData.allCompanyNumber.hundreds_thousand=parseInt(t.allCompanyNumber%1e6/1e5),c.initData.allCompanyNumber.riabit=parseInt(t.allCompanyNumber%1e5/1e4),c.initData.allCompanyNumber.kilo=parseInt(t.allCompanyNumber%1e4/1e3),c.initData.allCompanyNumber.hundreds=parseInt(t.allCompanyNumber%1e3/100),c.initData.allCompanyNumber.decade=parseInt(t.allCompanyNumber%100/10),c.initData.allCompanyNumber.unit=parseInt(t.allCompanyNumber%10),c.initData.companyPercent=t.companyPercent,c.initData.compareLastMonthPercent=t.compareLastMonthPercent,c.initData.nonCompanyPercent=t.nonCompanyPercent,c.initData.trend=t.trend,m.group.series[0].data[0].update({name:"集团",y:parseFloat(c.initData.companyPercent)}),m.group.series[0].data[1].update({name:"非集团",y:100-parseFloat(c.initData.companyPercent)}),m.non_group.series[0].data[0].update({name:"非集团",y:100-parseFloat(c.initData.companyPercent)}),m.non_group.series[0].data[1].update({name:"集团",y:parseFloat(c.initData.companyPercent)})}),l.getCustomerArea().then(function(e){for(var t=e.data,a=[],n=0;n<t.length;n++){var o={name:t[n].province,y:parseInt(t[n].companyNumber),color:m.colorArr[n]};a.push(o)}m.area_destribute.series[0].update({data:a})}),l.getCustomerIncrese().then(function(e){for(var t=e.data,a=[],n=0;n<t.length;n++){var o={name:t[n].month,y:parseInt(t[n].companyNumber),x:s.currentTime(t[n].month)};a.push(o)}m.customerIncrease.series[0].update({data:a})})}},c.initFunctions.initFunc(),c.initFunctions.getCustomerSta()}angular.module("app.managerModule.statistics.customerSta").controller("CustomerStaController",e),e.$inject=["$scope","layer","API","session","MD5","$state","TEMPLATEDATA","JEEAPI","COMMONJS"]}();